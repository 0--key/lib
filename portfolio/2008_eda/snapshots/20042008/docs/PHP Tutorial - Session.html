<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml"	xml:lang="en"><head><link rel="stylesheet" type="text/css" href="http://www.tizag.com/css/default-overflow.css" /><title>PHP Tutorial - Session</title><meta http-equiv="Content-Type"	content="text/html; charset=iso-8859-1" /><meta name='keywords' content="" /><meta name='description' content="" /><script type='text/javascript'>
									function searchFocus(){
										document.forms[0].q.focus();
									}
									</script>
									</head><body onload='searchFocus()'> <table class='outter' width='100%' align='center'>	<tr><td class='banner' colspan='3' align='center'><a href='http://www.tizag.com/'>	<img src='http://www.tizag.com/pics/tizagSugar.jpg' alt='Tizag Tutorials' /></a>	</td></tr> 
					<tr><td></td><td colspan='1' align='center'>
							<!-- SiteSearch Google -->
					<form method="get" action="http://www.google.com/custom" target="_top">
					<table border="0" bgcolor="#87AEC5">
					<tr><td nowrap="nowrap" valign="top" align="left" height="32">
					
					</td>
					<td nowrap="nowrap">
					<input type="hidden" name="domains" value="www.tizag.com"></input>
					<input type="text" name="q" size="31" maxlength="255" value=""></input>
					<input type="submit" name="sa" value="Google Search"></input>
					</td></tr>
					<tr>
					<td>&nbsp;</td>
					<td nowrap="nowrap">
					<table>
					<tr>
					<td>
					<input type="radio" name="sitesearch" value=""></input>
					<font size="-1" color="#000000">Web</font>
					</td>
					<td>
					<input type="radio" name="sitesearch" value="www.tizag.com" checked="checked"></input>
					<font size="-1" color="#000000">www.tizag.com</font>
					</td>
					</tr>
					</table>
					<input type="hidden" name="client" value="pub-5396533251015167"></input>
					<input type="hidden" name="forid" value="1"></input>
					<input type="hidden" name="ie" value="ISO-8859-1"></input>
					<input type="hidden" name="oe" value="ISO-8859-1"></input>
					<input type="hidden" name="cof" value="GALT:#013B63;GL:1;DIV:#013B63;VLC:013B63;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:013B63;LC:013B63;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:238;L:http://www.tizag.com/pics/Google-Tizag.jpg;S:http://www.tizag.com;FORID:1"></input>
					<input type="hidden" name="hl" value="en"></input>
					</td></tr></table>
					</form></td></tr>
					<!-- SiteSearch Google -->
<table class='outter'  cellpadding='0' cellspacing='0' align='center'><tr><td></td></tr></table>
<table class='outter' width='879' align='center'> 	<tr valign='top'>	<td class='menu'>		<table class='menu'><tr><td>	<div id='menu'>		<a href='http://www.tizag.com' >Home</a> <hr /><b>Web Tutorials</b><a href="http://www.tizag.com/beginnerT/" >First Website Guide</a>
<a href="http://www.tizag.com/htmlT/" >HTML Tutorial</a>
<a href="http://www.tizag.com/cssT/" >CSS Tutorial</a>
<br /><b>Templates</b>
			<a href='http://www.tizag.com/website-templates/'>Website Templates</a>			<a href='http://www.tizag.com/website-templates/flash_templates.html' >Flash Templates</a><a href='http://www.tizag.com/website-templates/logo_templates.html' >Website Logos</a><br /><b>Scripting</b>
<a href="http://www.tizag.com/javascriptT/" >Javascript Tutorial</a>
<a href="http://www.tizag.com/phpT/" >PHP Tutorial</a>
<a href="http://www.tizag.com/perlT/" >PERL Tutorial</a>
<a href="http://www.tizag.com/ajaxTutorial/" >Ajax Tutorial</a>
<a href="http://www.tizag.com/aspTutorial/" >ASP Tutorial</a>
<a href="http://www.tizag.com/vbscriptTutorial/" >VBScript Tutorial</a>
<br /><b>Databases</b>
<a href="http://www.tizag.com/sqlTutorial/" >SQL Tutorial</a>
<a href="http://www.tizag.com/mysqlTutorial/" >MySQL Tutorial</a>
<br /><b>Miscellaneous</b>
<a href="http://www.tizag.com/xmlTutorial/" >XML Tutorial</a>
<a href="http://www.tizag.com/webhost/" >Web Host Guide</a>
<a href="http://www.tizag.com/flashTutorial/" >Flash Tutorial</a>
<hr /><b>PHP Tutorial</b>
<a href="http://www.tizag.com/phpT/index.php" >PHP - Introduction</a>
<a href="http://www.tizag.com/phpT/install.php" >PHP - Installation</a>
<a href="http://www.tizag.com/phpT/syntax.php" >PHP - Syntax</a>
<a href="http://www.tizag.com/phpT/variable.php" >PHP - Variables</a>
<a href="http://www.tizag.com/phpT/echo.php" >PHP - Echo</a>
<a href="http://www.tizag.com/phpT/strings.php" >PHP - Strings</a>
<a href="http://www.tizag.com/phpT/operators.php" >PHP - Operators</a>
<a href="http://www.tizag.com/phpT/comment.php" >PHP - Comments</a>
<a href="http://www.tizag.com/phpT/include.php" >PHP - Include File</a>
<a href="http://www.tizag.com/phpT/require.php" >PHP - Require</a>
<a href="http://www.tizag.com/phpT/if.php" >PHP - If Statement</a>
<a href="http://www.tizag.com/phpT/ifelse.php" >PHP - If...Else</a>
<a href="http://www.tizag.com/phpT/elseif.php" >PHP - Elseif</a>
<a href="http://www.tizag.com/phpT/switch.php" >PHP - Switch</a>
<a href="http://www.tizag.com/phpT/forms.php" >PHP - Forms</a>
<a href="http://www.tizag.com/phpT/phpfunctions.php" >PHP - Functions</a>
<a href="http://www.tizag.com/phpT/arrays.php" >PHP - Arrays</a>
<a href="http://www.tizag.com/phpT/whileloop.php" >PHP - While Loop</a>
<a href="http://www.tizag.com/phpT/forloop.php" >PHP - For Loop</a>
<a href="http://www.tizag.com/phpT/foreach.php" >PHP - For Each</a>
<a href="http://www.tizag.com/phpT/dowhile.php" >PHP - Do While</a>
<a href="http://www.tizag.com/phpT/postget.php" >PHP - POST & GET</a>
<a href="http://www.tizag.com/phpT/php-magic-quotes.php" >PHP - Magic Quotes</a>
<a href="http://www.tizag.com/phpT/php-htmlentities.php" >PHP - htmlentities</a>
<b>PHP Files</b>
<a href="http://www.tizag.com/phpT/files.php" >PHP - File</a>
<a href="http://www.tizag.com/phpT/filecreate.php" >PHP - File Create</a>
<a href="http://www.tizag.com/phpT/fileopen.php" >PHP - File Open</a>
<a href="http://www.tizag.com/phpT/fileclose.php" >PHP - File Close</a>
<a href="http://www.tizag.com/phpT/filewrite.php" >PHP - File Write</a>
<a href="http://www.tizag.com/phpT/fileread.php" >PHP - File Read</a>
<a href="http://www.tizag.com/phpT/filedelete.php" >PHP - File Delete</a>
<a href="http://www.tizag.com/phpT/fileappend.php" >PHP - File Append</a>
<a href="http://www.tizag.com/phpT/filetruncate.php" >PHP - File Truncate</a>
<a href="http://www.tizag.com/phpT/fileupload.php" >PHP - File Upload</a>
<b>PHP Strings</b>
<a href="http://www.tizag.com/phpT/php-string-strpos.php" >PHP - strpos</a>
<a href="http://www.tizag.com/phpT/php-string-str_replace.php" >PHP - str_replace</a>
<a href="http://www.tizag.com/phpT/php-string-substr_replace.php" >PHP - substr_replace</a>
<a href="http://www.tizag.com/phpT/php-string-strtoupper-strtolower.php" >PHP - Capitalization</a>
<a href="http://www.tizag.com/phpT/php-string-explode.php" >PHP - explode</a>
<a href="http://www.tizag.com/phpT/php-string-implode.php" >PHP - implode</a>
<b>PHP Advanced</b>
<a href="http://www.tizag.com/phpT/phpdate.php" >PHP - Date</a>
<a href="http://www.tizag.com/phpT/phpsessions.php" ><font color='#003B62'><b style='text-decoration:underline;'>PHP - Session</b></font></a>
<a href="http://www.tizag.com/phpT/phpcookies.php" >PHP - Cookies</a>
<hr /> <a href='http://www.tizag.com/about/contact.php' >Contact Us</a> 	</div> 	</td></tr></table></td><td width='510'><table class='main' cellpadding='3'> <tr><td class='mainIn'>
<h1>PHP Sessions - Why Use Them?</h1>
<p>As a website becomes more sophisticated, so must the code that backs it. When 
you get to a stage where your website need to pass along user data from one
page to another, it might be time to start thinking about using PHP sessions.</p><script type="text/javascript"><!--
google_ad_client = "pub-5396533251015167";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
//2007-05-21: NContent PHP
google_ad_channel = "6903053571";
google_color_border = "D2E7F4";
google_color_bg = "D2E7F4";
google_color_link = "3D81EE";
google_color_text = "000000";
google_color_url = "000000";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<p>A normal HTML website will not pass data from one page to another. In other words,
all information is forgotten when a new page is loaded.  This makes it quite a problem
for tasks like a shopping cart, which requires
data(the user's selected product) to be remembered from one page to the next.</p>

<h1>PHP Sessions - Overview</h1>
<p>A PHP session solves this problem by allowing you to store user information
on the server for later use (i.e. username, shopping cart items, etc). However,
this session information is temporary and is usually deleted very quickly after
the user has <b>left</b> the website that uses sessions. </p>

<p>It is important to ponder if the sessions' temporary storage is applicable to your
website.  If you require a more permanent storage you will
need to find another solution, like a MySQL database.</p>

<p>Sessions work by creating a unique identification(UID) number for each
 visitor and storing variables based on this ID.  This helps to prevent
two users' data from getting confused with one another when visiting the same
webpage. </p>

<p><b>Note</b>:If you are not experienced with session programming it is not recommended
that you use sessions on a website that requires high-security, as there are
security holes that take some advanced techniques to plug.  </p>

<h1>Starting a PHP Session</h1>
<p>Before you can begin storing user information in your PHP session, you must
first start the session.  When you start a session, it must be at the very beginning
of your code, before any HTML or text is sent.</p>
<p>  Below is a simple script that you should place at the
beginning of your PHP code to start up a PHP session.</p>

<div class='codewrap'><h2 class='specialT'>PHP Code:</h2><pre class='code'>
&lt;?php
<font color='red'>session_start();</font> // start up your PHP session! 
?&gt;
</pre></div>

<p>This tiny piece of code will register the user's session with the server, allow
you to start saving user information and assign a UID (unique identification number)
for that user's session.</p>

<h1>Storing a Session Variable</h1>
<p>When you want to store user data in a session use the $_SESSION <a HREF="http://www.tizag.com/phpT/arrays.php">associative array</a>.
This is where you both store and retrieve session data. In previous versions of PHP there were other ways
to perform this store operation, but it has been updated and this is the correct way to do it. </p>


<div class='codewrap'><h2 class='specialT'>PHP Code:</h2><pre class='code'>
&lt;?php
session_start(); 
<font color='red'>$_SESSION['views']</font> = 1; // store session data
echo "Pageviews = ". <font color='red'>$_SESSION['views']</font>; //retrieve data
?&gt;
</pre></div>

<h2 class='specialT'>Display:</h2><div class='display'>
Pageviews = 1
</div>

<p>In this example we learned how to store a variable to the session associative array 
$_SESSION and also how to retrieve data from that same array.</p>

<h1>PHP Sessions: Using PHP's <i>isset</i> Function</h1>
<p>Now that you know can easily store and retrieve data from the $_SESSION array, we
can now explore some of the real functionality of sessions.  When you create a variable
and store it in a session, you probably want to use it in the future.  However,
before you use a session variable it is necessary that you check to see
if it exists already!</p>

<p>This is where PHP's <i>isset</i> function comes in handy.  <i>isset</i> is
a function that takes any variable you want to use and checks to see if it
has been <b>set</b>. That is, it has already been assigned a value.</p>

<p>With our previous example, we can create a very simple pageview counter by using
<i>isset</i> to check if the pageview variable has already been created.  If it has
we can increment our counter.  If it doesn't exist we can create a pageview counter and
set it to one.  Here is the code to get this job done:</p>

<div class='codewrap'><h2 class='specialT'>PHP Code:</h2><pre class='code'>
&lt;?php
session_start();  
if(<font color='red'>isset($_SESSION['views'])</font>)
    $_SESSION['views'] = $_SESSION['views']+ 1;
else
    $_SESSION['views'] = 1;

echo "views = ". $_SESSION['views']; 
?&gt;
</pre></div>

<p>The first time you run this script on a <b>freshly opened browser</b> the <i>if statement</i> will fail because
no session variable <i>views</i> would have been stored yet.  However, if you were
to refresh the page the <i>if statement</i> would be true and the counter would increment by one.  Each
time you reran this script you would see an increase in <i>view</i> by one.
</p>


<h1>Cleaning and Destroying your Session</h1>
<p>Although a session's data is temporary and does not require that you 
explicitly clean after yourself, you may wish to delete some data for
your various tasks.</p>
<p>Imagine that you were running an online business and a user
used your website to buy your goods. The user has just completed a transaction on your website
and you now want to remove everything from their shopping cart.</p>

<div class='codewrap'><h2 class='specialT'>PHP Code:</h2><pre class='code'>
&lt;?php
session_start();  
if(isset($_SESSION['cart']))
    <font color='red'>unset($_SESSION['cart'])</font>; 
?&gt;
</pre></div>

<p>You can also completely destroy the session entirely by calling
the <i>session_destroy</i> function.</p>

<div class='codewrap'><h2 class='specialT'>PHP Code:</h2><pre class='code'>
&lt;?php
session_start(); 
<font color='red'>session_destroy()</font>;
?&gt;
</pre></div>

<p>Destroy will reset your session, so don't call that function unless you are entirely
comfortable losing all your stored session data!</p>




<script type="text/javascript"><!--
google_ad_client = "pub-5396533251015167";
google_ad_width = 468;
google_ad_height = 15;
google_ad_format = "468x15_0ads_al";
//2007-05-21: Link PHP
google_ad_channel = "6065441606";
google_color_border = "D2E7F4";
google_color_bg = "D2E7F4";
google_color_link = "000000";
google_color_text = "000000";
google_color_url = "000000";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><br /><br />
<ul id='nav'><li class='back'><a href='phpdate.php'>Go Back</a></li><li class='cont'><a href='phpcookies.php'>Continue</a></li></ul><br /><br /><h1>Download Tizag.com's PHP Book</h1>
<p>If you would rather download the PDF of this tutorial, check out our
<a href="http://www.tizag.com/store/php-ebook.php">PHP eBook</a> from the Tizag.com store.
Print it out, write all over it, post your favorite lessons all over your wall!</p></td></tr>			</table>		</td><td width='200'>
		<table class='rightCol'>
			<tr><td>

			<div class='rightMenu'>
			<b>Web Reference</b><br />
			<a class='menu'href='http://www.tizag.com/htmlT/reference/htmlreference.php'>HTML Reference</a>
			<a class='menu'href='http://www.tizag.com/cssT/reference.php'>CSS Reference</a>
			<a class='menu'href='http://www.tizag.com/cssT/liveExampleCss/'>CSS Examples</a>
			<a class='menu'href='http://www.tizag.com/phpT/examples/formex.php'>PHP Examples</a>
			<hr />
			<b>Sponsors</b><br />

			<a href='http://tizag.com/oads/www/delivery/ck.php?oaparams=2__bannerid=5__zoneid=6__cb=1fefa0dda0__maxdest=http://www.tkqlhce.com/27103efolfn2579574B243743B46' target='_blank' onMouseOver="self.status='HostGator'; return true;" onMouseOut="self.status=''; return true;">HostGator.com</a><div id='beacon_5' style='position: absolute; left: 0px; top: 0px; visibility: hidden;'><img src='http://tizag.com/oads/www/delivery/lg.php?bannerid=5&amp;campaignid=3&amp;zoneid=6&amp;loc=http%3A%2F%2Fwww.tizag.com%2FphpT%2Fphpsessions.php&amp;cb=1fefa0dda0' width='0' height='0' alt='' style='width: 0px; height: 0px;' /></div><a href='http://tizag.com/oads/www/delivery/ck.php?oaparams=2__bannerid=13__zoneid=7__cb=ea774c9f0b__maxdest=http://www.seobook.com/2583.html' target='_blank'>SEO Book</a><div id='beacon_13' style='position: absolute; left: 0px; top: 0px; visibility: hidden;'><img src='http://tizag.com/oads/www/delivery/lg.php?bannerid=13&amp;campaignid=4&amp;zoneid=7&amp;channel_ids=,&amp;loc=http%3A%2F%2Fwww.tizag.com%2FphpT%2Fphpsessions.php&amp;cb=ea774c9f0b' width='0' height='0' alt='' style='width: 0px; height: 0px;' /></div><a href='http://www.google.com' target='_blank'><img src='http://www.tizag.com/pics/ads' border='0' alt=''></a><hr /><b>Help Tizag Grow</b><br />			<a class='menu'href='http://www.tizag.com/about/linkus.php'>Link to Tizag</a>
			<hr />
			</div>
			</td></tr>
		</table>					<!-- show latest active threads -->
<table cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tbody>
<tr>
<td colspan="2">
<a class='forumTitle' href="http://forums.tizag.com/">New - Tizag.com Forums!</a>
</td>
</tr>
</tbody>
<tbody>
<tr>
 
<td width="100%">
 
<div class="forumThreads">
Recent Forum Topics:<br />
<script type="text/javascript" src="http://forums.tizag.com/external.php?type=js"></script>

<script language="" type="text/javascript">

<!--
for (x = 0; x < 4; x++)
{
document.writeln("- <a href=\"http://forums.tizag.com/showthread.php?t="+threads[x].threadid+"\">"+threads[x].title+"</a> <br />");
}
//-->

</script>
</div>
 
</td>
</tr>
</tbody>
<!-- show latest active threads -->
</table>
<br /><table class='rightCol'>
			<tr><td>

			<div class='rightMenu'>
			<b>More Tutorials! </b><br />
			<a class='menu' href='http://office.tizag.com/'>Microsoft Office Tutorials</a>
			<a class='menu' href='http://artist.tizag.com/'>Artist Tutorials</a>
			<hr />
			<a href='http://tizag.com/oads/www/delivery/ck.php?oaparams=2__bannerid=9__zoneid=11__cb=ed6b70533b__maxdest=http://www.seobook.com/2583.html' target='_blank'><img src='http://tizag.com/oads/www/delivery/ai.php?filename=ceobook_120x60.gif&contenttype=gif' width='120' height='60' alt='' title='' border='0' /></a><div id='beacon_9' style='position: absolute; left: 0px; top: 0px; visibility: hidden;'><img src='http://tizag.com/oads/www/delivery/lg.php?bannerid=9&amp;campaignid=4&amp;zoneid=11&amp;channel_ids=,&amp;loc=http%3A%2F%2Fwww.tizag.com%2FphpT%2Fphpsessions.php&amp;cb=ed6b70533b' width='0' height='0' alt='' style='width: 0px; height: 0px;' /></div>			
			</td></tr>
		</table></td>		</tr><tr>			<td colspan='3'>
							
					<p align='center' class='copyright'>2003-2008 Erack Network | <a href='http://www.tizag.com/about/copy.php'>Copyright</a> | <a href='http://www.tizag.com/about/privacy.php'>Privacy Policy</a> |  <a href='http://www.tizag.com/about/advertise.php'>Advertising Information</a>
			
							<br />Site design by <a href='http://www.epearl.net/'>Seattle Web Design</a></p>
		</td></tr>
		</table>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-138146-2";
 urchinTracker();
</script>
<script type='text/javascript'>
 // by Shawn - http://www.digitalpoint.com/~shawn/2005/11/track-adsense-clicks-with-google-analytics.html 
// Put this at the bottom of the page (after the last AdSense block)
			
		function adsense_click() {
			if(window.status.indexOf('go to') == 0) {
				urchinTracker ('/AdSenseClick');
			}
		}
			
		var elements;
		if(document.getElementsByTagName) {
			elements = document.body.getElementsByTagName('IFRAME');
		} else if (document.body.all) {
			elements = document.body.all.tags('IFRAME');
		} else {
			elements = Array();
		}
			
		for(var i = 0; i < elements.length; i++) {
			if(elements[i].src.indexOf('googlesyndication.com') > -1) {
				elements[i].onfocus = adsense_click;
			}
		}
		</script>
		</body>
		</html>